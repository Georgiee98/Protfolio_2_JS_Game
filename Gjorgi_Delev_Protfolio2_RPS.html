<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>RPS Game</title>
    <link rel="stylesheet" href="Gjorgi_Delev_Protfolio2_RPS_Style.css" />
  </head>
  <body>
    <header>
      <div>
        <button onclick="ComputerChoice()" id="rock">Rock</button>
        <button onclick="ComputerChoice()" id="scissors">Scissors</button>
        <button onclick="ComputerChoice()" id="paper">Paper</button>
      </div>
    </header>
    <main>
      <div class="player">
        <p>Player:</p>
        <img id="rspPlayerIMG" src="/media/rsp.png" alt="" />
      </div>
      <div class="computer">
        <p>Computer:</p>
        <img id="rspComputerIMG" src="/media/rsp.png" alt="" />
      </div>
    </main>
    <div>
      <div class="judge" id="winner">
        <p id="ties">Draws :</p>
        <p id="playerWINS">Player Wins:</p>
        <p id="computerWINS">Computer Wins:</p>
        <p id="totalMatches">Total Score:</p>
      </div>
      <div>

      </div>
    </div>

    <script>
      // Rock takes (>) Scissors
      // Scissors takes (>) Paper
      // Paper takes (>) Rock

      let player = "";
      let playerWINS = 0;
      let computerWINS = 0;
      let ties = 0;
      let totalGamesPlayed = 0;
    //   totalGamesPlayed += playerWINS + computerWINS + ties

      // Binary Rules of the game
      let rsp = {
        rock: 0,
        scissors: 1,
        paper: 2,
      };

      // Computer Playing
      let ComputerChoice = () => {
        //   Making the game binary
        let choosedNumber = Math.floor(Math.random() * 3);
        let choosedItem = ["rock", "scissors", "paper"];

        document.getElementById("rspComputerIMG").src =
          "./media/" + choosedItem[choosedNumber] + ".png";
        return choosedItem[choosedNumber];
      };

      const Play = () => {
        //  Getting a win, lose or a tie
        // Rock:
        document.getElementById(
          "totalMatches"
        ).textContent = `Total Score: ${totalGamesPlayed}`;

        totalGamesPlayed++
        if (player == "rock" && ComputerChoice() == "rock") {
          console.log(ties);
          ties += 1;
          document.getElementById("ties").innerHTML = `Draws: ${ties}`;
        }


        else if (player == "rock" && ComputerChoice() == "scissors") {
          console.log("Winner: Player");
          playerWINS += 1;
          document.getElementById(
            "playerWINS"
          ).innerHTML = `Player Wins: ${playerWINS}`;
        }

        else if (player == "rock" && ComputerChoice() == "paper") {
          console.log("Winner: Computer");
          computerWINS += 1;
          document.getElementById(
            "computerWINS"
          ).innerHTML = `Computer Wins: ${computerWINS}`;
        }

        // Scissors
        else if (player == "scissors" && ComputerChoice() == "rock") {
          console.log("Winner: Computer");
          computerWINS += 1;
          document.getElementById(
            "computerWINS"
          ).innerHTML = `Computer Wins: ${computerWINS}`;
        }

        else if (player == "scissors" && ComputerChoice() == "scissors") {
          console.log("TIE!");
          ties += 1;
          document.getElementById("ties").innerHTML = `Draws: ${ties}`;
        }

        else if (player == "scissors" && ComputerChoice() == "paper") {
          console.log("Winner: Player");
          playerWINS += 1;
          document.getElementById(
            "playerWINS"
          ).innerHTML = `Player Wins: ${playerWINS}`;
        }

        // Paper
        else if (player == "paper" && ComputerChoice() == "rock") {
          console.log("Winner: Player");
          playerWINS += 1;
          document.getElementById(
            "playerWINS"
          ).innerHTML = `Player Wins: ${playerWINS}`;
        }

        else if (player == "paper" && ComputerChoice() == "scissors") {
          console.log("Winner: Computer");

          computerWINS += 1;
          document.getElementById(
            "computerWINS"
          ).innerHTML = `Computer Wins: ${computerWINS}`;
        }

        else if (player == "paper" && ComputerChoice() == "paper") {
          console.log("TIE!");
          ties += 1;
          document.getElementById("ties").innerHTML = `Draws: ${ties}`;
        }
      };

      // Player on Click Change Picture
      let rock = document
        .getElementById("rock")
        .addEventListener("click", () => {
          document.getElementById("rspPlayerIMG").src = "/media/rock.png";
          player = "rock";
          Play();
        });
      let scissors = document
        .getElementById("scissors")
        .addEventListener("click", () => {
          document.getElementById("rspPlayerIMG").src = "/media/scissors.png";
          player = "scissors";
          Play();
        });
      let paper = document
        .getElementById("paper")
        .addEventListener("click", () => {
          document.getElementById("rspPlayerIMG").src = "/media/paper.png";
          player = "paper";
          Play();
        });
    </script>
  </body>
</html>
